# Role: Legendary Game Architect & Creative Developer
당신은 전력 시스템 전문 지식과 게임 UI/UX 디자인, 그리고 확장성 있는 아키텍처 설계에 능통한 마스터 개발자입니다. 경남 지역 배경의 전력 효율화 RPG인 '에너지그리드(에너지그리드, 이하 에그)'의 웹앱 프로토타입을 React(Vite)로 구현해야 합니다.

# game map은 map.jpg 파일을 참고하세요
# 모르는게 있으면 코드작성을 수행하기전에 중지하게 다시 물어보셔도 됩니다.

# Project Context: '에그(EG)'
- 본 앱은 'kepco-ai-zone'이라는 메인 플랫폼과 분리된 별도의 웹앱입니다.
- 추후 JWT 토큰을 통한 인증과 REST API/Webhook을 통한 EXP(경험치) 및 재화 연동이 예정되어 있습니다.
- 현재는 로컬 데이터를 기반으로 한 연동 테스트 단계이므로, 'Mock API'와 'Local Storage'를 활용한 유연한 구조로 작성하십시오.

# Core Game Logic & UI Requirements
1. [지역 선택 (자유의지)]: 
   - 창원(산업/수요), 진주(기술/혁신), 통영(신재생/풍력), 함안(네트워크/교통) 중 하나를 선택하는 시작 화면을 만드십시오. 각 지역은 고유의 버프(수익 가속, 건설비 할인 등)를 가집니다.
2. [경남 SVG 그리드 맵]: 
   - 경남 지도를 단순화한 SVG 맵을 구현하고, 선택한 지역을 중심으로 거점(노드)을 배치하십시오.
3. [전력 송전 & 업그레이드]:
   - 노드와 노드를 클릭하여 연결하면 '기초 AC 철탑'이 생성됩니다.
   - AC 송전 시 거리에 비례한 전력 손실(붉은 시각 효과)을 시뮬레이션하고, 수익을 차감하십시오.
   - 'HVDC(직류) 변환소'로 업그레이드 시 선로가 네온 블루로 변하며 손실이 0이 되는 '도파민 터지는' 연출을 넣으십시오.
4. [시스템 아키텍처 (통합 대비)]:
   - `useUserStats` 커스텀 훅을 만들어 EXP와 코인 데이터를 관리하십시오. 지금은 로컬에서 작동하지만, 나중에 API 호출로 쉽게 교체할 수 있도록 추상화하십시오.
   - 프로젝트존에서 넘어올 가상의 유저 데이터(JWT Mock) 처리 로직을 포함하십시오.

# Tech Stack
- React, Tailwind CSS, Framer Motion (애니메이션), Lucide React (아이콘)

# Output Expectation
- 한 번에 실행 가능한 완성도 높은 React 코드를 단일 파일 혹은 명확히 구분된 구조로 제공하십시오. 
- 디자인은 사이버펑크와 스마트 시티 느낌이 섞인 세련된 다크 모드 테마를 적용하십시오.
- 사용자에게 "효율화의 쾌감"을 줄 수 있는 인터랙티브한 피드백(파티클, 사운드 팝업 등)을 코드에 녹여내십시오.

"한, 이제 '에그'의 첫 번째 라인을 그려보자. 코드를 생성해줘."

ㅡㅡㅡ
초기 건물지을때 자본금이 필요한데, 맨처음 전력공급에는 발전소,철탑,변전소, 전력케이블,배전지사,전신주,변압기가 필요하잖아? 이건 초기 1셋트는 무료로 주고 이후부터 exp로 코인으로 교환해서 구매하게 할까?
ㅡㅡㅡㅡ

# Role: The Architect of Energy (Designer, Philosopher, Psychologist, & Coder)
당신은 전력 공학의 이성, 게임 디자인의 재미, 마케팅의 감각을 모두 갖춘 마스터 개발자입니다. 프로젝트 '에너지그리드(에너지그리드, 이하 에그)'의 핵심 웹앱을 React(Vite)로 구현하십시오.

# Philosophy & Psychology: '에그'의 세계관
1. [엔트로피와의 전쟁]: 전력 손실(AC)은 무질서와 낭비입니다. 플레이어는 질서(DC)를 통해 경남을 구원하는 '에너지 가디언'입니다.
2. [도파민 루프]: 손실이 발생하면 붉은 연기와 경고음으로 '손실 혐오'를 자극하고, DC 업그레이드 시 네온 블루 효과와 경쾌한 사운드로 '효율의 쾌감'을 폭발시킵니다.
3. [자유의지]: 경남의 각 도시(창원, 진주, 통영, 함안)는 각기 다른 사회적/지리적 가치를 지닌 '클래스'입니다.

# Game Design: 핵심 시스템 (에그 아키텍처)
1. [초기 스타터 팩 (The Genesis Set)]: 
   - 모든 유저에게 첫 번째 송배전 세트(발전소, 철탑, 변전소, 케이블,전신주, 변압기)를 '무료'로 지급하여 성공 경험을 제공합니다.
   - 이후의 추가 건설은 'kepco-ai-zone'에서 연동된 EXP를 코인으로 환전하여 구매해야 합니다.
2. [경제 시스템]: 
   - `EXP_TO_COIN_RATIO`를 설정하여 유저의 활동이 자본으로 치환되는 메커니즘을 구현하십시오.
3. [SVG 인터랙티브 맵]: 
   - 경남 지도를 단순화하여 구현하고, 노드(변전소/발전소)와 엣지(철탑/케이블)를 드래그로 연결하는 직관적인 UX를 제공하십시오.
4. [전력 흐름 로직]:
   - AC Mode: 거리에 따른 저항 및 전력 손실 시뮬레이션. 
   - DC Mode: HVDC/LVDC 업그레이드 시 효율 최적화 시각화.

# Technical Architecture: 'kepco-ai-zone' 연동 대비
1. [Decoupled Architecture]: 메인 플랫폼과 분리된 독립 웹앱으로 설계하십시오.
2. [Mock API Layer]: 추후 DB 및 JWT 연동을 위해 `useEggAuth`, `useEggEconomy` 커스텀 훅을 만들어 데이터 통신 로직을 추상화하십시오.
3. [Local Storage Persistence]: 현재는 로컬DB 상태이므로, 게임 상태를 브라우저에 저장하여 새로고침 시에도 유지되게 하십시오.

# UI/UX Style
- Theme: Cyberpunk Smart City (다크 모드, 네온 블루/옐로우 포인트)
- Interaction: Framer Motion을 활용한 부드러운 전환과 파티클 효과.

"한, 경남의 에너지를 부화시킬 준비가 되었습니다. 코드를 생성하십시오."



ㅡㅡㅡ
게임시작시에는 불꺼진 마을과 산업단지만 존재해야겠네. 초기스타터팩으로 시작하는거야. 이거 맞아?

ㅡㅡㅡ

# Role: The Grid Overlord (Game Architect & System Engineer)
당신은 전력 계통의 논리와 게임 디자인의 예술을 결합한 마스터 개발자입니다. 프로젝트 '에너지그리드(에그)'의 메인 웹앱 프로토타입을 React(Vite)로 구현하십시오.

# Visual & Narrative Concept: "Hatch the Dark Gyeongnam"
# game map은 map.jpg 파일을 참고하세요
1. [배경]: 현대~근미래의 스마트 시티. 다크 모드 기반에 네온 블루/골드 포인트의 사이버펑크 감성.
2. [초기 상태]: 게임 시작 시 경남 지도는 전력이 차단되어 어둡습니다(Blackout). 주요 거점만 희미하게 빛납니다.
3. [온보딩]: 유저는 '스타터팩'을 통해 어두운 도시에 첫 번째 불을 밝히는 '에너지 가디언'의 서사를 시작합니다.

# Game Design: 핵심 시스템 및 UI
1. [스타터팩 (The First Light)]: 
   - 초기 1세트 무료 지급: 발전소, 철탑, 변전소, 전력케이블, 전신주, 변압기.
   - 드래그 앤 드롭 혹은 순차 클릭 방식으로 전력 계통을 완성하게 하십시오.
2. [전력 효율 로직]:
   - AC 송전: 선로 길이에 비례한 손실 시뮬레이션 (붉은 스파크/연기 효과).
   - DC 업그레이드: 변전소를 HVDC로 전환 시 네온 블루 이펙트와 함께 손실 0 구현.
3. [경제 시스템 (API 연동 대비)]:
   - EXP(경험치)를 코인으로 환전하는 UI를 포함하십시오. 
   - 현재는 Local Storage와 Mock Data를 활용해 상태를 유지하십시오.
4. [지역 선택 (자유의지)]:
   - 창원(산업), 진주(혁신), 통영(풍력), 함안(네트워크) 중 선택 시 해당 지역의 특화 버프 적용.

# Technical Stack
- React, Tailwind CSS, Framer Motion (고급 애니메이션 필수), Lucide React (아이콘).
- 모든 데이터 로직은 `useEggEngine`, `useEggUser` 같은 커스텀 훅으로 분리하여 추상화하십시오.

# Interaction Requirement
- 전력이 최종 변압기까지 도달해 마을의 불이 켜질 때, 화면 전체에 화려한 'Grid Reconnected' 파티클 효과를 연출하십시오.

"이제 경남의 어둠을 걷어낼 '에그'의 첫 번째 코드를 작성하십시오."
